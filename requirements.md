# Требования к проекту

## Содержание

[1 Введение](#1-введение)  
[1.1 Назначение](#11-назначение)  
[1.2 Бизнес-требования](#12-бизнес-требования)  
[1.2.1 Исходные данные](#121-исходные-данные)  
[1.2.2 Возможности бизнеса](#122-возможности-бизнеса)  
[1.2.3 Границы проекта](#123-границы-проекта)  
[1.3 Аналоги](#13-аналоги)  
[2 Требования пользователя](#2-требования-пользователя)  
[2.1 Программные интерфейсы](#21-программные-интерфейсы)  
[2.2 Интерфейс пользователя](#22-интерфейс-пользователя)  
[2.3 Характеристики пользователей](#23-характеристики-пользователей)  
[2.3.1 Классы пользователей](#231-классы-пользователей)  
[2.3.2 Аудитория приложения](#232-аудитория-приложения)  
[2.3.2.1 Целевая аудитория](#2321-целевая-аудитория)  
[2.3.2.1 Побочная аудитория](#2322-побочная-аудитория)  
[2.4 Предположения и зависимости](#24-предположения-и-зависимости)  
[3 Системные требования](#3-системные-требования)  
[3.1 Функциональные требования](#31-функциональные-требования)  
[3.1.1 Основные функции](#311-основные-функции)  
[3.1.1.1 Рейтинговый режим игры](#3111-рейтинговый-режим-игры)  
[3.1.1.2 ИИ](#3112-ии)  
[3.1.1.3 Анализ партии](#3113-анализ-партии)  
[3.1.1.4 Обучение](#3114-обучение)  
[3.1.1.5 Настройки](#3115-настройки)  
[3.1.2 Ограничения и исключения](#312-ограничения-и-исключения)  
[3.2 Нефункциональные требования](#32-нефункциональные-требования)  
[3.2.1 Атрибуты качества](#321-атрибуты-качества)  
[3.2.1.1 Требования к удобству использования](#3211-требования-к-удобству-использования)  
[3.2.1.2 Требования к безопасности](#3212-требования-к-безопасности)  
[3.2.2 Внешние интерфейсы](#322-внешние-интерфейсы)  
[3.2.3 Ограничения](#323-ограничения)

# 1 Введение

## 1.1 Назначение

В этом документе описаны функциональные и нефункциональные требования к кроссплатформенному приложению «chesu». Этот
документ предназначен для команды, которая будет реализовывать и проверять корректность работы приложения.

## 1.2 Бизнес-требования

### 1.2.1 Исходные данные

В последние годы шахматы приобрели значительную популярность. Множество новичков начинают учиться играть, изучают дебюты
и сражаются на рейтинг в рамках различных шахматных приложений. Однако, среди этой аудитории находятся и
недобросовестные игроки, использующие читы для жульничества в партиях. Самые популярные приложения для соревновательной
игры используют в своей основе централизованный сервер для организации матчей и отлова читеров. Это позволяет владельцам
данных сервисов менять рейтинг пользователей по своему усмотрению, блокировать неугодных игроков.

### 1.2.2 Возможности бизнеса

Множество игроков в шахматы желает избавиться от читерства и лишить площадки-монополисты возможности блокировать
пользователей по своему усмотрению. Для решения этой проблемы необходимо децентрализованное приложение с достоверным и
известным пользователям алгоритмом поиска нечестных игроков. Помимо этого, приложение должно иметь весь привычный
функционал всем известных шахматных приложений: обучения, игра против бота, рейтинговый подбор, история и анализ матчей.

### 1.2.3 Границы проекта

Приложение «chesu» позволит играть против различных шахматных движков, предоставит анализ сыгранных партий. При наличии
подключения к сети, будет возможность рейтинговой игры против других пользователей. Рейтинговые партии игроков будут
анализироваться ИИ на предмет жульничества, в соответствии с известным игрокам алгоритмом. При обнаружении
недобросовестного пользователя, соответсвующая информация будет отослана всем пользователям сети. В последствии, каждый
игрок будет сам решать, желает ли он играть против человека, который помечен системой как читер.

## 1.3 Аналоги

Обзор аналогов представлен в документе [analogues](analogues.md).

# 2 Требования пользователя

## 2.1 Программные интерфейсы

Взаимодействие с игровыми движками осуществляться через
протокол [UCI](http://wbec-ridderkerk.nl/html/UCIProtocol.html), на его же базе реализован формат сообщений в сети.
Партии хранятся в [PGN](https://ia802908.us.archive.org/26/items/pgn-standard-1994-03-12/PGN_standard_1994-03-12.txt)
формате.

## 2.2 Интерфейс пользователя

Главное меню приложения:  
![](mockup/main_window.png)  
Меню настройки рейтингового матча:  
![](mockup/rating.png)  

## 2.3 Характеристики пользователей

### 2.3.1 Классы пользователей

| Класс пользователей | Описание                                                                                              |
|:--------------------|:------------------------------------------------------------------------------------------------------|
| Без доступа к сети  | Пользователи, которые не принадлежат ни к одной шахматной сети. Имеют доступ к частичному функционалу |
| С доступом к сети   | Пользователи, которые имеют доступ к сети. Имеют доступ к полному функционалу                         |

### 2.3.2 Аудитория приложения

#### 2.3.2.1 Целевая аудитория

Пользователи с опытом игры по сети, но новички в мире шахмат. Опытные шахматисты, желающие играть на своих условиях в
отдельных небольших подсетях.

#### 2.3.2.2 Побочная аудитория

Пользователи шахматных веб-сервисов, которые желают получить новый опыт игры (без читеров, абсолютно бесплатно).

## 2.4 Предположения и зависимости

Предполагается, что пользователь имеет доступ к сети и шахматный движок. Без этого функционал крайне ограничен.

# 3 Системные требования

## 3.1 Функциональные требования

### 3.1.1 Основные функции

#### 3.1.1.1 Рейтинговый режим игры

**Описание:** Пользователь имеет возможность рейтинговой сетевой игры против других людей.

| Функция                              | Требования                                                                                                                                                                                                                                                                                               | 
|:-------------------------------------|:---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Ввод уникального для сети псевдонима | Приложение должно удостовериться в уникальности псевдонима и известить его в обратном случае                                                                                                                                                                                                             |
| Настройка фильтрации игроков         | Приложение должно иметь выбор контроля времени и разброса рейтинга игроков. Также должна быть возможность исключить читеров                                                                                                                                                                              |
| Поиск соперника по псевдониму        | Приложение должно предоставлять поиск оппонента по его псевдониму, в этом случае параметры, указанные для фильтрации игроков, учитываться не будут                                                                                                                                                       |
| Вывод подходящих кандидатов          | Приложение должно корректно проанализировать параметры фильтрации игроков и предоставить список всех подходящих кандидатов. Приложению важно соблюдать честность в сортировке пользователей списка: шахматист из прошлой сыгранной партии не должен вновь быть на первом месте среди кандидатов для игры |
| Игра в шахматы                       | Приложение должно реализовывать все правила игры шахматы, а также анализировать партию на предмет читерства соперника (если шахматный движок подключен). Если алгоритм определил недобросовестность соперника, соответсвующее сообщение рассылается всем пользователям в сети.                           |

#### 3.1.1.2 ИИ

**Описание:** Пользователь имеет возможность игры против компьютера. Необходимо наличие шахматного движка.

| Функция                      | Требования                                                                                                                                                                                                                                                     | 
|:-----------------------------|:---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Добавление шахматного движка | Приложение должно предоставлять возможность для ввода пути к исполняемому файлу шахматного движка с проверкой его работоспособности. Если путь невалиден, приложение должно сообщить это пользователю. Все последующие функции требуют наличия рабочего движка |
| Настройка сложности ИИ       | Приложение должно предоставить возможность выбора сложности для шахматного движка в условных единицах ЭЛО.                                                                                                                                                     |
| Игра в шахматы               | Приложение должно реализовывать все правила игры шахматы                                                                                                                                                                                                       |

#### 3.1.1.3 Анализ партии

**Описание:** Пользователь может выбрать ранее сыгранную или скачанную партию для совместного анализа с компьютерным ИИ.

| Функция                            | Требования                                                                                                                                                                                    | 
|:-----------------------------------|:----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Проверка наличия шахматного движка | Приложение должно проверить наличие и работоспособность шахматного движка, оповестить в случае обратного и запретить доступ к анализу матчей                                                  |
| Выбор партии для анализа           | Приложение должно предоставить список всех партий для анализа, иметь возможность поиска партии по названию                                                                                    |
| Анализ партии                      | Приложение должно предоставить возможность перемещения между сыгранными ходами, численный анализ позиции на доске, подсказки по лучшим ходам и возможность переиграть партию с любого момента |

#### 3.1.1.4 Обучение

**Описание:** Пользователь имеет возможность изучать различные специфические позиции на доске (дебюты, эндшпиль, загадки
на поиск шаха и мата).

| Функция          | Требования                                                                                                                                                                      | 
|:-----------------|:--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Выбор урока      | Приложение должно предоставить список уроков для выбора пользователем                                                                                                           |
| Процесс обучения | Приложение должно предоставлять материалы в виде схожем с анализом партии, однако, шахматный движок не является обязательным, т.к. все позиции и их оценки занесены в код урока |

### 3.1.2 Ограничения и исключения

Приложение функционирует только при наличии подключения к Интернету;

## 3.2 Нефункциональные требования

### 3.2.1 Атрибуты качества

#### 3.2.1.1 Требования к удобству использования

1. Интерфейс удобный для пользования

2. Функциональные элементы не перегружают экран;

#### 3.2.1.2 Требования к безопасности

Для совершения покупок (к примеру дополнительных мест для уведомлений) требуется
предпринять дополнительные меры безопасности во избежание потери денежных средств.

### 3.2.2 Внешние интерфейсы

Окна приложения удобны для долгосрочного использования пользователями:

* функциональные элементы не утомляют глаза.
* стандартная цветовая палитра не утомляет глаза.

### 3.2.3 Ограничения

1. Приложение реализовано на Python/Tornado

